<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.61">
<title data-react-helmet="true">4 - The Compiler and Other Useful Information | Chialisp</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="4 - The Compiler and Other Useful Information | Chialisp"><meta data-react-helmet="true" name="description" content="This guide assumes that you have already read the previous parts."><meta data-react-helmet="true" property="og:description" content="This guide assumes that you have already read the previous parts."><meta data-react-helmet="true" property="og:url" content="https://chialisp.com/docs/doc4"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://chialisp.com/docs/doc4"><link rel="stylesheet" href="/styles.b4cc45ef.css">
<link rel="preload" href="/styles.9b043646.js" as="script">
<link rel="preload" href="/runtime~main.4a320746.js" as="script">
<link rel="preload" href="/main.181fd417.js" as="script">
<link rel="preload" href="/common.d1911b98.js" as="script">
<link rel="preload" href="/2.41ed5c64.js" as="script">
<link rel="preload" href="/32.71a5120c.js" as="script">
<link rel="preload" href="/33.4494705a.js" as="script">
<link rel="preload" href="/20ac7829.14309081.js" as="script">
<link rel="preload" href="/17896441.0bd64a38.js" as="script">
<link rel="preload" href="/4b91c96a.3a2ffd8c.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="Chialisp Logo"><strong class="navbar__title">Chialisp</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a href="https://chia.net/blog" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog</a><a href="https://chia.net" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Chia.net</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Chia-Network/chialisp-web" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="Chialisp Logo"><strong class="navbar__title">Chialisp</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">Docs</a></li><li class="menu__list-item"><a href="https://chia.net/blog" target="_blank" rel="noopener noreferrer" class="menu__link">Blog</a></li><li class="menu__list-item"><a href="https://chia.net" target="_blank" rel="noopener noreferrer" class="menu__link">Chia.net</a></li><li class="menu__list-item"><a href="https://github.com/Chia-Network/chialisp-web" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Chialisp</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/">1 - CLVM Basics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/doc2">2 - Coins, Spends and Wallets</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/doc3">3 - Deeper into CLVM</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/doc4">4 - The Compiler and Other Useful Information</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/doc5">The Great Chia Glossary</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">4 - The Compiler and Other Useful Information</h1></header><div class="markdown"><p>This guide assumes that you have already read the previous parts.
It is highly recommended that you do so as the higher level language is built directly on top of the lower level language.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="run"></a>Run<a aria-hidden="true" tabindex="-1" class="hash-link" href="#run" title="Direct link to heading">#</a></h2><p>The first difference you need to be aware of for the higher level language is that you should call <code>run</code> instead of <code>brun</code>.
This lets the runtime know that it should be including higher level features.</p><p>The first higher level feature you should be aware of is that it is no longer necessary to quote atoms.</p><p>Compare <code>brun</code> and <code>run</code> here:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ brun &#x27;(+ 200 200)&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">FAIL: first of non-cons ()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ run &#x27;(+ 200 200)&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">400</span></div></div></div></div></div><p>Run also gives us access to a number of convenient high level operators, which we will cover now.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="list"></a>list<a aria-hidden="true" tabindex="-1" class="hash-link" href="#list" title="Direct link to heading">#</a></h3><p><code>list</code> takes any number of parameters and returns them put inside a list.
This saves us from having to manually create nested <code>(c (A) (c (B) (q ())))</code> calls, which can get messy quickly.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ run &#x27;(list 100 &quot;test&quot; 0xdeadbeef)&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">(100 &quot;test&quot; 0xdeadbeef)</span></div></div></div></div></div><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="if"></a>if<a aria-hidden="true" tabindex="-1" class="hash-link" href="#if" title="Direct link to heading">#</a></h1><p><code>if</code> automatically puts our <code>i</code> statement into the lazy evaluation form so we do not need to worry about the unused code path being evaluated.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ run &#x27;(if (= (f (a)) 100) (q &quot;success&quot;) (x))&#x27; &#x27;(100)&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&quot;success&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ run &#x27;(if (= (f (a)) 100) (q &quot;success&quot;) (x))&#x27; &#x27;(101)&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">FAIL: clvm raise ()</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="qq-unquote"></a>qq unquote<a aria-hidden="true" tabindex="-1" class="hash-link" href="#qq-unquote" title="Direct link to heading">#</a></h3><p><code>qq</code> allows us to quote something with selected portions being evaluated inside by using <code>unquote</code>.
The advantages of this may not be immediately obvious but are extremely useful in practice as it allows us to substitute out sections of predetermined code.</p><p>Suppose we are writing a program that returns another coin&#x27;s puzzle.
We know that a puzzle takes the form: <code>(c (c (q 50) (c (q 0xpubkey) (c (sha256tree (f (a))) (q ())))) ((c (f (a)) (f (r (a))))))</code>
However we will want to change 0xpubkey to a value passed to us through our solution.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ run &#x27;(qq (c (c (q 50) (c (q (unquote (f (a)))) (c (sha256tree (f (a))) (q ())))) ((c (f (a)) (f (r (a)))))))&#x27; &#x27;(0xdeadbeef)&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">(c (c (q 50) (c (q 0xdeadbeef) (c (sha256tree (f (a))) (q ())))) ((c (f (a)) (f (r (a))))))</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="and"></a>and<a aria-hidden="true" tabindex="-1" class="hash-link" href="#and" title="Direct link to heading">#</a></h3><p><code>and</code> takes two boolean values and returns true if both values are true</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ run &#x27;(and (= (f (a)) 10) (= (f (r (a))) 20))&#x27; &#x27;(10 20)&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ run &#x27;(and (= (f (a)) 10) (= (f (r (a))) 20))&#x27; &#x27;(10 25)&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ run &#x27;(and (= (f (a)) 10) (= (f (r (a))) 20))&#x27; &#x27;(15 20)&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="compiling-to-clvm-with-mod"></a>Compiling to CLVM with Mod<a aria-hidden="true" tabindex="-1" class="hash-link" href="#compiling-to-clvm-with-mod" title="Direct link to heading">#</a></h2><p>It is important to remember that in practice smart contracts will run using the lower level language, so none of the above operators will work on the network.
What we <em>can</em> do however is compile them down to the lower level language.
This is where <code>mod</code> comes in.
<code>mod</code> is an operator that lets the runtime know that it needs to be compiling the code rather than actually running it.</p><p><code>(mod A B)</code> takes two or more parameters. The first is used to name parameters that are passed in, and the last is the higher level script which is to be compiled.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ run &#x27;(mod (arg_one arg_two) (list arg_one))&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">(c (f (a)) (q ()))</span></div></div></div></div></div><p>As you can see it returns our program in compiled lower level form.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ brun &#x27;(c (f (a)) (q ()))&#x27; &#x27;(100 200 300)&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">(100)</span></div></div></div></div></div><p>You may be wondering what other parameters <code>mod</code> takes, between variable names and source code.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="functions-macros-and-constants"></a>Functions, Macros and Constants<a aria-hidden="true" tabindex="-1" class="hash-link" href="#functions-macros-and-constants" title="Direct link to heading">#</a></h2><p>In the lower level language functions were created by passing a copy of the source code to an eval so that it could call itself again.
In the higher level language we can define functions, macros, and constants before our program by using <code>defun</code>, <code>defmacro</code> and <code>defconstant</code>.</p><p>We can define as many of these as we like before the main source code.
Usually a program will be structured like this:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">(mod (arg_one arg_two)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  (defconstant const_name value)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  (defun function_name (parameter_one parameter_two) (*function_code*))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  (defun another_function (param_one param_two param_three) (*function_code*))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  (defmacro macro_name (param_one param_two) (*macro_code*))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  (main program)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">)</span></div></div></div></div></div><p>A few things to note:</p><ul><li>Functions can reference themselves in their code but macros cannot as they are inserted at compile time, similar to inline functions.</li><li>Both functions and macros can reference other functions, macros and constants.</li><li>Macros that refer to their parameters must be quasiquoted with the parameters unquoted</li><li>Be careful of infinite loops in macros that reference other macros.</li><li>Comments can be written with semicolons</li></ul><p>Now lets look at some example programs using functions.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="factorial"></a>Factorial<a aria-hidden="true" tabindex="-1" class="hash-link" href="#factorial" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">(mod (arg_one)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ; function definitions</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  (defun factorial (input)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    (if (= input 1) 1 (* (factorial (- input 1)) input))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  )</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ; main</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  (factorial arg_one)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">)</span></div></div></div></div></div><p>We can save these files to .clvm files which can be run from the commandline.
Saving the above example as <code>factorial.clvm</code> allows us to do the following.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ run factorial.clvm</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">((c (q ((c (f (a)) (c (f (a)) (c (f (r (a))) (q ())))))) (c (q ((c (i (= (f (r (a))) (q 1)) (q (q 1)) (q (* ((c (f (a)) (c (f (a)) (c (- (f (r (a))) (q 1)) (q ()))))) (f (r (a)))))) (a)))) (a))))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ brun &#x27;((c (q ((c (f (a)) (c (f (a)) (c (f (r (a))) (q ())))))) (c (q ((c (i (= (f (r (a))) (q 1)) (q (q 1)) (q (* ((c (f (a)) (c (f (a)) (c (- (f (r (a))) (q 1)) (q ()))))) (f (r (a)))))) (a)))) (a))))&#x27; &#x27;(5)&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">120</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="squaring-a-list"></a>Squaring a List<a aria-hidden="true" tabindex="-1" class="hash-link" href="#squaring-a-list" title="Direct link to heading">#</a></h3><p>Now lets do an example which uses macros as well.
When writing a macro it must be quasiquoted with the parameters being unquoted.</p><p>We can also take this time to show another feature of the compiler.
You can name each parameter in a list or you can name the list itself.
This works at any place where you name parameters, and allows you to handle lists where you aren&#x27;t sure of the size.</p><p>Here we define a macro to square a parameter and then a function to square a list.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">(mod args</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  (defmacro square (input)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    (qq (* (unquote input) (unquote input)))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  )</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  (defun sqre_list (my_list)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    (if my_list</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      (c (square (f my_list)) (sqre_list (r my_list)))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      my_list</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    )</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  )</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  (sqre_list args)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">)</span></div></div></div></div></div><p>Compiling and running this code results in this:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ run square_list.clvm</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">((c (q ((c (f (a)) (c (f (a)) (c (r (a)) (q ())))))) (c (q ((c (i (f (r (a))) (q (c (* (f (f (r (a)))) (f (f (r (a))))) ((c (f (a)) (c (f (a)) (c (r (f (r (a)))) (q ()))))))) (q (f (r (a))))) (a)))) (a))))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ brun &#x27;((c (q ((c (f (a)) (c (f (a)) (c (r (a)) (q ())))))) (c (q ((c (i (f (r (a))) (q (c (* (f (f (r (a)))) (f (f (r (a))))) ((c (f (a)) (c (f (a)) (c (r (f (r (a)))) (q ()))))))) (q (f (r (a))))) (a)))) (a))))&#x27; &#x27;(10 9 8 7)&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">(100 81 64 49)</span></div></div></div></div></div><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="conclusion"></a>Conclusion<a aria-hidden="true" tabindex="-1" class="hash-link" href="#conclusion" title="Direct link to heading">#</a></h1><p>You should now have the context and knoweldge needed to write your own smart contracts.
Remember from <a href="/docs/doc2/">part 2</a> that these programs run on the blockchain and instruct the blockchain what to do with the coin&#x27;s value.</p><p>If you have further questions feel free to ask on <a href="https://keybase.io/team/chia_network.public" target="_blank" rel="noopener noreferrer">Keybase</a>.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/Chia-Network/chialisp-web/edit/master/docs/doc4.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/doc3"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« 3 - Deeper into CLVM</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/doc5"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">The Great Chia Glossary Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3klQ"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#run" class="table-of-contents__link">Run</a><ul><li><a href="#list" class="table-of-contents__link">list</a></li><li><a href="#qq-unquote" class="table-of-contents__link">qq unquote</a></li><li><a href="#and" class="table-of-contents__link">and</a></li></ul></li><li><a href="#compiling-to-clvm-with-mod" class="table-of-contents__link">Compiling to CLVM with Mod</a></li><li><a href="#functions-macros-and-constants" class="table-of-contents__link">Functions, Macros and Constants</a><ul><li><a href="#factorial" class="table-of-contents__link">Factorial</a></li><li><a href="#squaring-a-list" class="table-of-contents__link">Squaring a List</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">CLVM Basics</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/doc2/">Coins, Spends and Wallets</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://keybase.io/team/chia_network.public" target="_blank" rel="noopener noreferrer" class="footer__link-item">Keybase</a></li><li class="footer__item"><a href="https://twitter.com/chia_project" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://www.chia.net/blog/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li><li class="footer__item"><a href="https://github.com/Chia-Network/clvm" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright Â© 2020 Chia Network Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.9b043646.js"></script>
<script src="/runtime~main.4a320746.js"></script>
<script src="/main.181fd417.js"></script>
<script src="/common.d1911b98.js"></script>
<script src="/2.41ed5c64.js"></script>
<script src="/32.71a5120c.js"></script>
<script src="/33.4494705a.js"></script>
<script src="/20ac7829.14309081.js"></script>
<script src="/17896441.0bd64a38.js"></script>
<script src="/4b91c96a.3a2ffd8c.js"></script>
</body>
</html>