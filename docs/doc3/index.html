<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.61">
<title data-react-helmet="true">3 - Deeper into CLVM | Chialisp</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="3 - Deeper into CLVM | Chialisp"><meta data-react-helmet="true" name="description" content="This guide directly continues on from part 1 so if you haven&#x27;t read that, please do so before reading this."><meta data-react-helmet="true" property="og:description" content="This guide directly continues on from part 1 so if you haven&#x27;t read that, please do so before reading this."><meta data-react-helmet="true" property="og:url" content="https://chialisp.com/docs/doc3"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://chialisp.com/docs/doc3"><link rel="stylesheet" href="/styles.b4cc45ef.css">
<link rel="preload" href="/styles.9b043646.js" as="script">
<link rel="preload" href="/runtime~main.4a320746.js" as="script">
<link rel="preload" href="/main.181fd417.js" as="script">
<link rel="preload" href="/common.d1911b98.js" as="script">
<link rel="preload" href="/2.41ed5c64.js" as="script">
<link rel="preload" href="/32.71a5120c.js" as="script">
<link rel="preload" href="/33.4494705a.js" as="script">
<link rel="preload" href="/20ac7829.14309081.js" as="script">
<link rel="preload" href="/17896441.0bd64a38.js" as="script">
<link rel="preload" href="/616665f6.4e4389eb.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="Chialisp Logo"><strong class="navbar__title">Chialisp</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a href="https://chia.net/blog" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog</a><a href="https://chia.net" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Chia.net</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Chia-Network/chialisp-web" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="Chialisp Logo"><strong class="navbar__title">Chialisp</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">Docs</a></li><li class="menu__list-item"><a href="https://chia.net/blog" target="_blank" rel="noopener noreferrer" class="menu__link">Blog</a></li><li class="menu__list-item"><a href="https://chia.net" target="_blank" rel="noopener noreferrer" class="menu__link">Chia.net</a></li><li class="menu__list-item"><a href="https://github.com/Chia-Network/chialisp-web" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Chialisp</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/">1 - CLVM Basics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/doc2">2 - Coins, Spends and Wallets</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/doc3">3 - Deeper into CLVM</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/doc4">4 - The Compiler and Other Useful Information</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/doc5">The Great Chia Glossary</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">3 - Deeper into CLVM</h1></header><div class="markdown"><p>This guide directly continues on from <a href="/docs/">part 1</a> so if you haven&#x27;t read that, please do so before reading this.</p><p>This section of the guide will cover how ChiaLisp relates to transactions and coins on the Chia network.
If there are any terms that you aren&#x27;t sure of, be sure to check the <a href="/docs/doc5">glossary</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="lazy-evaluation-in-chialisp"></a>Lazy Evaluation in ChiaLisp<a aria-hidden="true" tabindex="-1" class="hash-link" href="#lazy-evaluation-in-chialisp" title="Direct link to heading">#</a></h2><p>As we saw in part 1, programs are often structured around <code>(i A B C)</code> to control flow.
ChiaLisp evaluates programs as trees, where the leaves are evaluated first.
This can cause unexpected problems if you are not aware of it.
Consider the following program which uses <code>x</code> which immediately halts and throws an error if it is evaluated.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ brun &#x27;(i (q 1) (q 100) (x (q &quot;still being evaluated&quot;)))&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">FAIL: clvm raise (0x7374696c6c206265696e67206576616c7561746564)</span></div></div></div></div></div><p>This is because ChiaLisp evaluates both of the leaves even though it will only follow the path of one.</p><p>To get around this we can use the following design pattern to replace (i A B C).</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">((c (i (A) (q B) (q C)) (a)))</span></div></div></div></div></div><p>Applying this to our above example looks like this:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ brun &#x27;((c (i (q 1) (q (q 100)) (q (x (q &quot;still being evaluated&quot;)))) (a)))&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">100</span></div></div></div></div></div><p>It is worth keeping this in mind whenever you write an <code>(i A B C)</code>.</p><p>If you&#x27;re wondering how this works (and how the standard transaction from <a href="/docs/doc2">part 2</a> worked), then allow me to introduce Eval.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="introduction-to-eval"></a>Introduction to Eval<a aria-hidden="true" tabindex="-1" class="hash-link" href="#introduction-to-eval" title="Direct link to heading">#</a></h2><p>In <a href="/docs/">Part 1</a> we mentioned that a program is usually a list where the first element is an operator, and every subsequent element is a valid program.
However a Program can also have a program as the first element. This will cause that program to be evaluated as a new puzzle.
The solution is then every element after the first in this list.</p><p>This looks like this:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">((*puzzle*) *solution* *elements* *go* *here*)</span></div></div></div></div></div><p>In order to create this list we want to use:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">((c (*puzzle*) (*solution*)))</span></div></div></div></div></div><p>Let&#x27;s put this into practice.</p><p>Here is a program that evaluates the program <code>(+ (f (a) (q 5)))</code> and uses the list <code>(70 80 90)</code> or <code>(80 90 100)</code> as the solution.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ brun &#x27;((c (q (+ (f (a)) (q 5))) (q (70 80 90))))&#x27; &#x27;(20 30 40)&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">75</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ brun &#x27;((c (q (+ (f (a)) (q 5))) (q (80 90 100))))&#x27; &#x27;(20 30 40)&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">85</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div></div></div><p>Notice how the original solution <code>(20 30 40)</code> does not matter for the new evaluation environment.
In this example we use <code>q</code> to quote both the new puzzle and the new solution to prevent them from being prematurely evaluated.</p><p>A neat trick that we can pull is that we can define the new solution in terms of the outer solution.
In this next example we will add the first element of the old solution to our new solution.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ brun &#x27;((c (q (+ (f (a)) (q 5))) (c (f (a)) (q (70 80 90)))))&#x27; &#x27;(20 30 40)&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">25</span></div></div></div></div></div><p>However it&#x27;s not just the new solution that we can affect using this, we can also pass programs as parameters.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="programs-as-parameters"></a>Programs as Parameters<a aria-hidden="true" tabindex="-1" class="hash-link" href="#programs-as-parameters" title="Direct link to heading">#</a></h2><p>The core CLVM does not have an operator for creating user defined functions.
It does, however, allow programs to be passed as parameters, which can be used for similar results.</p><p>Here is a puzzle that executes the program contained in <code>(f (a))</code> with the solution <code>(12)</code>.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ brun &#x27;((c (f (a)) (q (12))))&#x27; &#x27;((* (f (a)) (q 2)))&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">24</span></div></div></div></div></div><p>Taking this further we can make the puzzle run a new evaluation that only uses parameters from its old solution:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ brun &#x27;((c (f (a)) (a)))&#x27; &#x27;((* (f (r (a)) (q 2))) 10)&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">10</span></div></div></div></div></div><p>We can use this technique to implement recursive programs.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="example-factorial"></a>Example: Factorial<a aria-hidden="true" tabindex="-1" class="hash-link" href="#example-factorial" title="Direct link to heading">#</a></h2><p>Consider the recursive function for a factorial, which is written in pseudo-code below:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">(i (= (f (a)) (q 1)) (q 1) (* (f (a)) (factorial (- (f (a)) (q 1)))))</span></div></div></div></div></div><p>Overlooking the fact that <code>factorial</code> is not an operator, this code contains one other problem. Can you spot it?</p><p>It&#x27;s not using lazy evaluation.
<strong>If you don&#x27;t force lazy evaluation, your recursive programs will try to evaluate infinitely and crash.</strong></p><p>Here is the fixed pseudo-code using the <code>((c (i (A) (q B) (q C)) (a)))</code> pattern:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">((c (i (= (f (a)) (q 1)) (q (q 1)) (q (* (f (a)) (factorial (- (f (a)) (q 1)))))) (a)))</span></div></div></div></div></div><p>The next step is to replace <code>factorial</code>.</p><p>While we can&#x27;t define a new operator, we can encode the factorial function as a parameter and evaluate it as a puzzle.
Let&#x27;s create a solution where <code>(f (a))</code> is our factorial code, and <code>(f (r (a)))</code> is the number we are operating on.</p><p>When calling the factorial program we want to create a new solution where <code>(f (r (a)))</code> is decremented by 1.</p><p>It is a good idea when creating ChiaLisp programs to break it down to sub programs, so let&#x27;s create and test our new solution generating program:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ brun &#x27;(c (f (a)) (c (- (f (r (a))) (q 1)) (q ())))&#x27; &#x27;(&quot;source code&quot; 100)&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">(&quot;source code&quot; 99)</span></div></div></div></div></div><p>Perfect.</p><p>We can now use this smaller fragment to construct our finished factorial source code:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">(((c (i (= (f (r (a))) (q 1)) (q (q 1)) (q (* (f (r (a))) ((c (f (a)) (c (f (a)) (c (- (f (r (a))) (q 1)) (q ())))))))) (a))) *num to factorial*)</span></div></div></div></div></div><p>and we can call it using the puzzle <code>((c (f (a)) (a)))</code></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ brun &#x27;((c (f (a)) (a)))&#x27; &#x27;(((c (i (= (f (r (a))) (q 1)) (q (q 1)) (q (* (f (r (a))) ((c (f (a)) (c (f (a)) (c (- (f (r (a))) (q 1)) (q ())))))))) (a))) 5)&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">120</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ brun &#x27;((c (f (a)) (a)))&#x27; &#x27;(((c (i (= (f (r (a))) (q 1)) (q (q 1)) (q (* (f (r (a))) ((c (f (a)) (c (f (a)) (c (- (f (r (a))) (q 1)) (q ())))))))) (a))) 6)&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">720</span></div></div></div></div></div><p>It works!</p><p>But there is one final step. We need to encode this as part of the puzzle.
The above example assumes we have control of the solution.
But in the context of ChiaLisp the puzzle is securing our money, and we must be prepared for malicious solutions.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="recursion-in-puzzles"></a>Recursion in Puzzles<a aria-hidden="true" tabindex="-1" class="hash-link" href="#recursion-in-puzzles" title="Direct link to heading">#</a></h2><p>We need to create a new eval environment where the program code is passed in - then call that code again as a parameter.
Here we need to</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">((c (q ((c (f (a)) (a)))) (c (q (*program*)) (c (f (a)) (q ())))))</span></div></div></div></div></div><p>Notice that we need to run eval <code>((c () ()))</code> twice.
Once to create an environment where the source code exists and once again to run that source code.
If you compare that pattern with the way we constructed the factorial above, you should see the similarity.</p><p>So let&#x27;s replace <code>*program*</code> with our factorial program from above.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">((c (q ((c (f (a)) (a)))) (c (q ((c (i (= (f (r (a))) (q 1)) (q (q 1)) (q (* (f (r (a))) ((c (f (a)) (c (f (a)) (c (- (f (r (a))) (q 1)) (q ())))))))) (a)))) (c (f (a)) (q ())))))</span></div></div></div></div></div><p>And let&#x27;s test it with clvm_tools</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ brun &#x27;((c (q ((c (f (a)) (a)))) (c (q ((c (i (= (f (r (a))) (q 1)) (q (q 1)) (q (* (f (r (a))) ((c (f (a)) (c (f (a)) (c (- (f (r (a))) (q 1)) (q ())))))))) (a)))) (c (f (a)) (q ())))))&#x27; &#x27;(5)&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">120</span></div></div></div></div></div><p>We now have a design pattern that allows us to create recursive programs that can be part of smart contracts, and more complicated ChiaLisp puzzles.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/Chia-Network/chialisp-web/edit/master/docs/doc3.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/doc2"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« 2 - Coins, Spends and Wallets</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/doc4"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">4 - The Compiler and Other Useful Information Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3klQ"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#lazy-evaluation-in-chialisp" class="table-of-contents__link">Lazy Evaluation in ChiaLisp</a></li><li><a href="#introduction-to-eval" class="table-of-contents__link">Introduction to Eval</a></li><li><a href="#programs-as-parameters" class="table-of-contents__link">Programs as Parameters</a></li><li><a href="#example-factorial" class="table-of-contents__link">Example: Factorial</a></li><li><a href="#recursion-in-puzzles" class="table-of-contents__link">Recursion in Puzzles</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">CLVM Basics</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/doc2/">Coins, Spends and Wallets</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://keybase.io/team/chia_network.public" target="_blank" rel="noopener noreferrer" class="footer__link-item">Keybase</a></li><li class="footer__item"><a href="https://twitter.com/chia_project" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://www.chia.net/blog/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li><li class="footer__item"><a href="https://github.com/Chia-Network/clvm" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright Â© 2020 Chia Network Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.9b043646.js"></script>
<script src="/runtime~main.4a320746.js"></script>
<script src="/main.181fd417.js"></script>
<script src="/common.d1911b98.js"></script>
<script src="/2.41ed5c64.js"></script>
<script src="/32.71a5120c.js"></script>
<script src="/33.4494705a.js"></script>
<script src="/20ac7829.14309081.js"></script>
<script src="/17896441.0bd64a38.js"></script>
<script src="/616665f6.4e4389eb.js"></script>
</body>
</html>